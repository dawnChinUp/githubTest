### 主控机
#### 主控机服务器
 * [] 数据保存/重传 : 2天 1.8~1.9
    - 数据库保存违法上传数据的上传状态,上传失败状态,上传超时状态 
    - 数据库添加新的参数,violation sqlite add fields 上传状态,通道号
    - 选择:通道号 , 抓拍方向,车道号,过车时间,号牌种类,号牌号码,车辆颜色,违法类型,违法代码,上传时间,上传状态,图片/视频[查看按键]
    - 已经添加 通道号 上传时间 上传状态
      1. [√] 违法存储的数据库 增删减排 
      2. [√] 重传: 根据上传状态查询数据库中本地合成的文件地址,唯一ID,路口号码,将文件地址中的数据流进行上传,上传成功与失败
      3. [√] 违法数据接口: 更新客户端获取的接口
      4. [ ] 测试重传
 * [] 违法代码数据更新  : 5天 1.10~1.14(视频等待确认缩短两天)
    - 新增合成贴字模式切换、是否需要视频。根据违法代码匹配当前相机的合成模式与视频获取。
    - 合成模式对应上违法类型,一组路段使用一种合成模式(能自定义) 字段显示:违法类型代码,违法类型,违法代码,违法简称,合成贴字模式,是否支持视频
      1. [√] 添加合成模式字段:合成贴字模式 ,是否支持视频
      2. [√] 违法信息界面配置导入文件,保存,刷新,服务器的接口获取与修改
      3. [√] 服务器根据违法信息配置违法代码的合成贴字模式
      4. [] 后处理时处理视频,将当前视频获取到本地 (等待确认视频获取方式)
      5. [] 测试根据需求,自定义合成贴字内容,测试是否需要卡口数据单独处理
 * [] 内存数据管理 : 1天
    - 配置数据存储天数.默认180天,3个月~9个月之间设置,要是超出容量按着最早时间删除 在后端判断当前的数据与之前的数据是否一致 要是一致则不进行配置
 * [] 接入设备配置 : 2天 1.15~1.16
    - 新增接入时间显示,通道号,接口版本,协议类型(现阶段默认是RTSP)
      1. [√] 数据库中增删减排 协议类型,接入时间显示
      2. [√] 测试增删减查 数据库 
      3. [√] 根据通道号修改上传配置信息
      4. [√] controller获取,添加,修改接入设备配置
      5. [] 测试接口与配置稳定性
 * [] 违法数据导出 : 2天
    - 新增近一小时,近一天的快捷访问、一小时,近一天的快速导出快捷键。
    - 数据访问信息大量修改 
    - 新增快速下载，根据数据类型、开始时间、结束时间进行直接下载
 * [] 导出记录显示 : 3天
    - 新增数据导出时，将当前的导出时间、操作员、数据时间范围、导出数量、导出状态进行保存显示，并且将所有的数据保存到数据库中。
    - 快速下载的日志导出，字段包括下载时间、操作员、数据类型、数据时间范围，下载状态保存并显示
 * [] 服务管理配置 : 2天
    - 新增
 * [] NTP校时配置 : 1 天
    - 新增禁用ntp,本机同步将当前时间同步到主控机服务器.
      1. []禁用与启用时间设置,禁用和启用本地时间设置 (那这里的启用和禁用先不做,本地设置时间后,要是正常校时ntp,那就被时间被覆盖.要是连不上平台你再本地设置时间. )
      2. []接口获取本地时间,ntp时间
      3. []服务器设置本地时间,ntp时间
 * [] 配置平台上传 : 3天 1.17~1.21(上级平台配置先不做)
    - 验证上级平台是否注册,[当前只配置一种平台]配置平台1.根据客户端的接入识别码[添加违法上传字段],注册间隔,协议(如果不支持HTTPS则用HTTP),心跳周期[数据保活上传],最大心跳次数
    - 根据不同的通道获取主机编码,设备编码,相机编码 
      1. [√] 数据库根据通道号修改上传设备的主机设备编号,摄像机编号,设备编号
      2. [√] 添加中心配置上传配置文档 (等上级平台配置确认之后再调用中心配置上传)
      3. [√] 修改违法上传ip与卡口ip端口的数据上传,并维护一在一个类中
      4. [] 平台启用与禁用:
            启用:等待上传事件对用户进行注册,注册成功后,数据上传则刷新保活,若无数据上传根据最大心跳次数使用户登出,将状态转换至停止,用户登出后根据注册间隔重新登录.
            禁止:停用上级平台,接受事件不进行上传
      5. [] 平台的注册 注销 保活 (等待上级平台确认)
 * [] 红绿灯信号配置 : 5 天
    - 新增 
#### 主控机界面
 * [] 登录界面 : 1天
    - 默认账户密码,当三次验证失败则系统锁定30分钟
 * [] 添加主机 : 2天
    - 通过下载模板，编辑模板内容(IP,路段地址),(由用户下载模板，编辑文件内容保存)批量导入文件.
    - 点击添加主机,弹出窗体添加主机IP,点位信息,点击保存,将填写的信息保存到左侧菜单栏和主机清单,并关闭窗体;点击取消则取消添加主机.
    - 双击主机进入主机配置界面，且所有的配置界面，默认只读，不可编辑；第一次配置都可编辑，在后期维护时是不可编辑的，只有当点击修改按钮后才可再次编辑。
 * [] 系统配置 : 3天
    - 主机位置：表示主机安装的地址。
    - 网络配置：开发界面允许用户输入并保存主机的 IP 地址(分为内网,需配置到具体的网卡(默认网卡1))和外网(外网IP地址,记录到左侧的主机列表,不需要配置到具体的网卡)、
    子网掩码、网关参数,包括是否符合 IP 地址的标准格式、是否在合法的 IP 地址段内
    - 校时配置：启用禁用按钮方便校时服务器地址及端口(若有),提供可配置同步本地(pc端)时间,同步本地PC时间前可编辑本地PC时间,且可将修改过的时间手动同步到主机。
    - 红路灯信号配置 : 每一台主控机只有一个信号灯检测器,可以通过下拉菜单选择不同的红绿灯检测信号源(RS485),检测信号是否能够正常连接和工作,并添加开启转发功能.点击按钮(测试30秒16个通道的信号灯状态)系统会将当前红绿灯的状态(灯亮/灯灭)进行实时显示
 * [] 合成配置 : 1天
    - 提供数据导入接口,字段显示:违法类型代码,违法类型,违法代码,违法简称,合成贴字模式,是否需要视频 将execl配置文档写入表格中保存显示,并保存到服务器中
 * [] 存储配置 : 1.5天
    - 当前存储情况 : 总容量,已使用,使用率,剩余容量,[只读显示]
    - 范围限定在 [3个月]-[9个月] 之间 
    - ftp存储配置 : ip,账号,密码,存储目录,协议方式,保存格式,图片命名规则(默认格式,暂不可修改)\ 视频命名规则(默认格式,暂不可修改)
 * [] 接入设备清单: 2 天
    - 当前主机接入设备
    - 相机,品牌,型号,版本号,接入时间 进行实时显示
    - 添加相机
    - 显示__x__台
 * [] 中心上传配置: 2天
    -  配置平台(全局使用)的启用、服务器地址、端口、账号密码、接入识别码、注册间隔、协议、心跳周期和最大心跳次数；
    -  上传配置(针对到每一台相机)，下拉选择通道号(接入相机时编写)、主机编号、设备编号、相机编号。
 * [] 版本信息显示: 1天
    -   每一个界面均有一个关于按钮,点击关于按钮,弹出窗体显示主机编号,当前版本,ntp版本
 * [] 相机接入配置: 2天
    - 品牌,型号,IP,端口,账号,密码,接口版本,通道号,协议类型(rtsp流媒体显示)
    - 右键点击相机时,弹出删除相机弹窗进行确认删除,并清除该设备的所有信息。
    - rtsp流显示: 支持视频窗体放大自由放大.
 * [] 数据管理 : 4天
    - 数据查询 :
        1. 字段:  设备编号,通道号,数据类型,开始时间,结束时间,违法类型,号牌种类,车辆颜色
        2. 查询数据字段 选择,通道号,抓拍方向,车道号,过车时间,号牌种类,号牌号码,车辆颜色,违法类型,违法代码,上传时间,上传状态,图片/视频[查看按键]
        3. 当点击查询字段中的[查看按钮],则弹出弹窗对当前合成视频进行显示,并且支持图片与视频自由放大
        4. 在查询记录下方显示导出记录,导出记录字段,导出时间,操作员,数据时间范围,导出数量(条),导出状态,默认显示3~10条 需要查询更多信息点击更多查看.
        5. 数据查询条数显示根据下拉菜单选择 每页10条,每页50条,每页100条,可下滑查看当前数据 
    - 快速下载:
        1. 字段: 数据类型,开始时间,结束时间
        2. 点击[直接下载按钮],显示弹窗用户根据本地资源管理器选择当前的保存路径. 
        3. 在查询记录下方显示下载记录,下载时间,操作员,数据类型,数据时间范围,下载状态,默认显示3~10条 需要查询更多信息点击更多查看.
 * [] 服务管理 : 2天
    - 根据服务器内部的服务对某个模块可进行启动 停止 重启操作 ,并将对应的日志文件进行下载


